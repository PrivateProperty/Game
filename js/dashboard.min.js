
angular.module("RDash",["ui.bootstrap","ui.router","ngCookies"]);
"use strict";angular.module("RDash").config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("index",{url:"/",templateUrl:"templates/dashboard.html"}).state("tables",{url:"/tables",templateUrl:"templates/tables.html"}).state("about",{url:"/about",templateUrl:"templates/about.html"})}]);
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("RDash").directive("rdLoading",rdLoading);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"=?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("RDash").directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("RDash").directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("RDash").directive("rdWidgetHeader",rdWidgetTitle);
function rdWidget(){var d={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return d}angular.module("RDash").directive("rdWidget",rdWidget);
function AlertsCtrl(e){e.alerts=[{type:"success",msg:"Thanks for visiting! Feel free to create pull requests to improve the dashboard!"},{type:"danger",msg:"Found a bug? Create an issue with as many details as you can."}],e.addAlert=function(){e.alerts.push({msg:"Another alert!"})},e.closeAlert=function(t){e.alerts.splice(t,1)}}angular.module("RDash").controller("AlertsCtrl",["$scope",AlertsCtrl]);
function AboutCTRL(o){o.recipient="5625210",o.at=String.fromCharCode(64),o.dotcom="gmail.com",o.mail="mailto:",o.send=function(){setTimeout(function(){window.open(o.mail+o.recipient+o.at+o.dotcom)},500)}}angular.module("RDash").controller("AboutCTRL",["$scope",AboutCTRL]);
function myService(){this.cityComputerAll=["Аахен","Абу-Даби","Агадир","Агиос-Николаос","Аделаида","Аджман","Айя-Напа","Акаба","Акапулько","Аккра","Аланья","Албена","Александрия","Алеппо","Алжир","Аликанте","Алма-Ата (Алматы)","Альмерия","Амальфи","Амман","Амстердам","Андора-Ла-Велья","Анкара","Анкона","Анкоридж","Анталия","Антверпен","Антиб","Багдад","Бад-Гаштайн","Бад-Хофгаштайн","Базель","Баку","Балчик","Бангалор","Бангкок","Банско","Бар","Бари","Барселона","Бейрут","Белград","Белек","Белосток","Белфаст","Бенидорм","Берген","Берлин","Берн","Бильбао","Бирмингем","Бишкек","Бланес","Богота","Бодрум","Бока-Чика","Болонья","Бонн","Бордо","Боровец","Бостон","Бразилиа","Братислава","Брашов","Бремен","Брест","Брисбен","Бристоль","Брно","Брюгге","Брюссель","Будапешт","Будва","Ванкувер","Варадеро","Варна","Варшава","Вашингтон","Веллингтон","Вена","Венеция","Верона","Вильнюс","Виннипег","Висбаден","Вифлеем","Вроцлав","Вьентьян","Гент","Генуя","Герат","Гетеборг","Глазго","Гоа","Гонконг","Гонолулу","Гранада","Гран-Канария","Грац","Гренобль","Гуантанамо","Гуанчжоу","Гудаута","Гулрыпш","Далянь","Дамаск","Дананг","Дар-эс-Салам","Дахаб","Дебрецен","Дели","Денпасар","Детройт","Джайпур","Джакарта","Джерба","Джидда","Дидим","Днепропетровск","Донецк","Елените","Ереван","Загреб","Задар","Закинтос","Закопане","Зальбах-Хинтерглем","Зальцбург","Запорожье","Зеефельд","Зёльден","Золотые Пески","Иерусалим","Измир","Иматра","Инсбрук","Ираклион","Исламабад","Йокогама","Йоханнесбург","Кабул","Кавала","Кадис","Каир","Калгари","Калифея","Калькутта","Кальяри","Канберра","Кандагар","Канкун","Канны","Каппадокия","Капри","Каракас","Карачи","Карловы Вары","Карлсруэ","Касабланка","Катания","Кейптаун","Кельн","Кемер","Керкира","Киев","Кито","Китцбюэль","Кишинев","Клагенфурт","Колимбия","Лагос","Лангкави","Лансароте","Ла-Пас","Ла-Пинеда","Ларнака","Лас-Вегас","Лас-Пальмас-де-Гран-Канария","Лассити","Лахти","Лейпциг","Ленгенфельд","Ливерпуль","Ливорно","Лидс","Лилль","Лима","Лимассол","Линдос","Линц","Лион","Лиссабон","Ллорет-де-Мар","Лодзь","Лозанна","Лондон","Лос-Анджелес","Луанда","Лугано","Луганск","Майами","Майорка","Майрхофен","Макади Бей","Малага","Мале","Мальме","Манавгат","Манаус","Манила","Манчестер","Марианские Лазни","Марса-Алам","Марсель","Маскат","Махдия","Махмутлар","Медина","Мекка","Мельбурн","Мерида","Мессина","Мехико","Мешхед","Мииму атолл","Милан","Минск","Мишкольц","Нанкин","Нант","Нассау","Неаполь","Несебр","Нетания","Никосия","Ницца","Нови-Сад","Новый Афон","Новый Орлеан","Нойштифт","Нувейба","Нью-Йорк","Оломоуц","Ольборг","Ордино-Аркалис","Орлеан","Орхус","Осака","Осло","Острава","Оттава","Оулу","Охрид","Очамчира","Памуккале","Панама","Пардубице","Париж","Патры","Паттайя","Пафос","Пекин","Пелопоннес","Пенанг","Перт","Пескара","Пиза","Пицунда","Плайя-дель-Кармен","Пловдив","Пльзень","Пномпень","Раа атолл","Рабат","Равда","Регенсбург","Рейкьявик","Реймс","Ресифи","Ретимно","Рига","Риека","Рим","Римини","Рио-де-Жанейро","Рованиеми","Родос","Росток","Роттердам","Санта-Круз-де-Тенерифе","Санто-Доминго","Сантьяго","Сантьяго-де-Куба","Сан-Франциско","Санья","Саппоро","Сарагоса","Сарыкамыш","Сассари","Сафага","Святой Влас","Себу","Севастополь","Севилья","Сеул","Сиэтл","Тайбэй","Таллин","Тампере","Таранто","Таррагона","Ташкент","Тбилиси","Тебриз","Тегеран","Тель-Авив","Тенерифе","Теплице","Тиват","Тирана","Токио","Томар","Торонто","Тосса-де-Мар","Трабзон","Триест","Улан-Батор","Урумчи","Утрехт","Ухань","Фаафи атолл","Фалираки","Фамагуста","Фанес","Фантхьет","Фару","Фетхие","Филадельфия","Флоренция","Фрайбург","Франкфурт-на-Майне","Фрипорт","Хаа Алифу атолл","Хайфа","Хаммамет","Ханой","Ханья","Харбин","Харьков","Хевиз","Хельсинки","Херсониссос","Хошимин","Хуа Хин","Хургада","Хьюстон","Хэйхэ","Цель-ам-Зее","Церматт","Цюрих","Ченнаи","Чешме","Чиангмай","Чикаго","Чунцин","Шанхай","Шарджа","Шарм-эль-Шейх","Шеньжень","Шеньян","Штутгарт","Щецин","Эдинбург","Эдмонтон","Эйлат","Эльблонг","Эль-Гуна","Эль-Пас-де-ла-Каса","Эрзурум","Эр-Рияд","Ялиссос","Янгон","Яссы"],this.cityComputer=[],this.cityFromUser=[],this.cityAll=[""],this.cityAll2=[""],this.won="Текущий результат",this.lastCity="",this.setTimer="",this.warn=""}function TableCtrl(e,t){e.gameService=t,e.hide=function(){if("Текущий результат"==t.won)return document.getElementById("hideButton").style="display: none;",!0},e.reStart=function(){window.location.reload(),window.location.href="#/"}}function MapCtrl(e,t){e.gameService=t,e.myMap,e.map=ymaps.ready(function(){e.myMap=new ymaps.Map("map",{center:[30,20],zoom:2}),e.myMap.behaviors.disable("scrollZoom"),e.myMap.controls.remove("searchControl"),e.myMap.controls.remove("trafficControl")}),e.speech,e.recognizeSpeach=function(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){var t=window.SpeechRecognition||window.webkitSpeechRecognition,o=new t;o.interimResults=!1,o.lang="ru-RU",o.continuous=!1,o.onresult=function(t){var o=t.results[t.resultIndex];e.speech=o[0].transcript.charAt(0).toUpperCase()+o[0].transcript.slice(1)},e.color=!0,e.color,o.onend=function(){document.getElementById("txt").value=e.speech||"",e.color=!0,document.getElementById("color").style.background="none",document.getElementById("color").onmouseover="this.style.backgroundColor='#f00';",document.getElementById("color").onmouseout="this.style.backgroundColor='#5bc0de';"};var i=function(){document.getElementById("color").style.backgroundColor="#f00",e.color=!1,o.start()};i()}else alert("В этом браузере не поддерживаеться ввод текста через микрофон :(")},e.checkCity=function(o){o=o||e.speech,o?o.slice(0,1)===o.slice(0,1).toLowerCase()?alert(" Введите город с ЗАГЛАВНОЙ буквы "):e.isCyrillic(o)?t.cityAll.indexOf(o)>0?alert("Такой город уже был, введите другой"):/[0-9`~!@#$%^&*()_=+\\|\[\]{};:'",.<>\/?]/.test(o)?alert("Обнаружены недопустимые символы "):(e.game(o),e.reset()):alert(" Введите город на русском языке "):alert("Вы ничего не ввели... ")},e.locationCity=function(t){t=t||e.speech;var o=ymaps.geocode(t);o.then(function(o){e.constructor(o.geoObjects.get(0).geometry.getCoordinates(),t)},function(e){alert("Что-то пошло не так:(")})},e.constructor=function(t,o){var i=new ymaps.Placemark([t[0],t[1]],{hintContent:o,balloonContent:t});e.myMap.geoObjects.add(i)},e.isCyrillic=function(e){return/[а-яё]/i.test(e)},e.game=function(o){if(t.cityAll[1]){var i=t.cityAll[t.cityAll.length-1].slice(-1);if("ъ"!=i&&"ь"!=i&&"ы"!=i||(i=t.cityAll[t.cityAll.length-1].slice(-2,-1)),o.slice(0,1).toLowerCase()!==i)return alert(" Введите город на букву "+i.toUpperCase())}e.locationCity(o),t.cityFromUser.push(o),t.cityAll.push(o),clearTimeout(t.setTimer),e.compucterStep(o)},e.reset=function(){e.FromUser=""},e.compucterStep=function(o){var i=o.slice(-1).toLowerCase();"ъ"!=i&&"ь"!=i&&"ы"!=i||(i=o.slice(-2,-1).toLowerCase());for(var n=0;n<t.cityComputerAll.length;n++){if(i===t.cityComputerAll[n].slice(0,1).toLowerCase()){if(t.cityAll.indexOf(t.cityComputerAll[n])>0){t.cityComputerAll.splice(n,1);continue}t.cityComputer.push(t.cityComputerAll[n]),t.cityAll.push(t.cityComputerAll[n]),t.cityComputerAll.splice(n,1),t.lastCity=t.cityAll[t.cityAll.length-1],t.warn=" У Вас есть 3 минуты. Текущий город ",t.setTimer=setTimeout(function(){t.won=" В следующий раз повезет. Попробуй снова ",e.hide(),window.location.href="#/tables"},18e4),e.locationCity(t.lastCity);break}t.cityComputerAll[n+1]||(t.won="Поздравляем!!! Вы победили!",clearTimeout(t.setTimer),e.hide(),window.location.href="#/tables")}},e.hide=function(){if("Текущий результат"!=t.won)return!0},e.inputSubmit=function(t){return 13===window.event.keyCode&&e.checkCity(t),!1}}function MasterCtrl(e,t){var o=992;e.getWidth=function(){return window.innerWidth},e.$watch(e.getWidth,function(i,n){i>=o?angular.isDefined(t.get("toggle"))?e.toggle=!!t.get("toggle"):e.toggle=!0:e.toggle=!1}),e.toggleSidebar=function(){e.toggle=!e.toggle,t.put("toggle",e.toggle)},window.onresize=function(){e.$apply()}}angular.module("RDash").controller("MasterCtrl",["$scope","$cookieStore",MasterCtrl]).controller("MapCtrl",["$scope","gameService",MapCtrl]).controller("TableCtrl",["$scope","gameService",TableCtrl]).service("gameService",myService);